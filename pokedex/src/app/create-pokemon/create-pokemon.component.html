<div class="container-card">
  <app-navbar class="w-100"></app-navbar>
  <div class="row">
    <button mat-raised-button class="btn btn-primary" color="warn" type="button" routerLink="/home">
      <mat-icon>
        cancel
      </mat-icon>
    </button>
    <div class="container">
      <div class="formGroup">
        <div class="modal-close" *ngIf="isEdit">
          <button mat-button mat-dialog-close class="btn btn-primary btn-sm ml-auto btn-close-modal ">
            <mat-icon>
              highlight_off
            </mat-icon>
          </button>
        </div>
        <form [formGroup]="createdForm">
          <mat-card class="form-group-card">
            <mat-form-field appearance="fill">
              <h3>Name</h3>
              <input matInput type="text" formControlName="name" class="form-control"/>
            </mat-form-field>
          </mat-card>
          <button mat-raised-button (click)="addTypes = true">
            <mat-icon>
              add
            </mat-icon>
            Type
          </button>
          <div *ngIf="addTypes">
            <ng-container [formGroup]="typeForm" class="form-types">
              <mat-card class="form-group-card">
                <mat-form-field appearance="fill">
                  <h3>Type/s</h3>
                  <input matInput type="text" formControlName="type" class="form-control"/>
                </mat-form-field>
              </mat-card>
              <button mat-raised-button (click)="addType()"> Add Types</button>
            </ng-container>
          </div>
          <div *ngFor="let types of this.typeForm?.controls['types']" class="list-abilities">
            <mat-card class="card-abilitie">
              <h2> {{types}}</h2>
            </mat-card>
          </div>
          <button mat-raised-button (click)="addAbilities = true">
            <mat-icon>
              add
            </mat-icon>
            Ability
          </button>
          <div *ngIf="addAbilities">
            <ng-container [formGroup]="abilitie" class="form-abilities">
              <mat-card class="form-group-card form-abilities">
                <mat-form-field appearance="fill">
                  <h3>Abilitie Name</h3>
                  <input matInput type="text" formControlName="name" class="form-control"/>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <h4>description</h4>
                  <input matInput type="text" formControlName="description" class="form-control"/>
                </mat-form-field>
                <button mat-raised-button (click)="addAbility()"> Add Ability</button>
              </mat-card>
            </ng-container>
          </div>

          <div *ngFor="let abilitie of this.createdForm?.controls['abilities']?.value" class="list-abilities">
            <mat-card class="card-abilitie">
              <h2> {{abilitie.name}}</h2>
              <h2> {{abilitie.description}}</h2>
            </mat-card>
          </div>
          <mat-card class="form-group-card">
            <mat-form-field appearance="fill">
              <h3>Lvl</h3>
              <input matInput type="number" formControlName="lvl" class="form-control"/>
            </mat-form-field>
          </mat-card>
          <mat-card class="form-group-card">
            <mat-form-field appearance="fill">
              <h3>Evolution Id</h3>
              <input matInput type="number" formControlName="evolutionId" class="form-control"/>
            </mat-form-field>
          </mat-card>
          <mat-card class="form-group btn-sub" *ngIf="isEdit">
            <button mat-raised-button (click)="editPokemon();">Edit Person</button>
          </mat-card>
          <div class="btn-sub" *ngIf="!isEdit">
            <button mat-raised-button class="btn-add-pokemon" type="button" (click)="addPokemon()">Add New Pokemon
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
